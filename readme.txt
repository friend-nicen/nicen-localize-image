=== nicen-localize-image ===
Contributors: 友人a丶
Tags: 图片本地化，文章定时发布，图片压缩
Donate link: https://nicen.cn/donate
Requires at least: 5.6
Tested up to: 6.6
Requires PHP: 7.3
Stable tag: 1.4.1
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

wordpress用于本地化文章的外部图片的插件，支持文章发布前通过编辑器插件本地化、文章发布时自动本地化、文章定时发布时自动本地化、已发布的文章批量本地化。

== Description ==
nicen-localize-image，是一款用于本地化文章的外部图片的插件，支持如下功能：

1. 文章发布前通过编辑器插件本地化；
2. 文章手动发布时自动本地化；
3. 文章定时发布时自动本地化；
4. 针对已发布的文章批量本地化；
5. 批量压缩所有图片；


仓库地址

Github：https://github.com/friend-nicen/nicen-localize-image
Gitee：https://gitee.com/friend-nicen/nicen-localize-image

== Changelog ==

v1.4.1

1. 更换插件JS库引用的cdn源
2. 新增本地化时支持识别301、302跳转
3. 修复保存目录无法自动创建时，本地化失败会导致替换异常的问题

v1.4.0

1. 新增定时任务可选单次定时发布的文章数量和状态
2. 新增编辑器插件本地化可以并发下载（默认同时下载5张图片）
3. 新增本地化图片保存到数据库时，可选是否生成缩略图
4. 新增批量本地化时，可选待审、定时任务等其它文章状态
5. 修复存在空格时，会导致白名单功能失效的问题

v1.3.92

1. 修复定时发布文章，选择文章时间同步为发布时的时间，功能失效的问题。

v1.3.91

1. 修复编辑器插件存在相同图片链接时，只会替换一次的问题
2. 修复本地化图片验证图片链接状态码，没有模拟Referer导致触发防盗链，刚好链接返回异常状态码时，会本地化报错的问题。
3. 新增本地化时是否记录日志的选项，关闭后将不在记录日志。

v1.3.9

1. 修复分类名包含特殊字符时，批量本地化时，分类无法正常显示的问题
2. 新增系统时间校准的功能开关，定时任务页面将展示当前系统时间和默认时区，避免由时区导致定时任务无法正常运行
3. 新增图片本地化后自动关联文章
4. 更新img匹配规则，兼容一些不规则的img标签
5. 修复开启图片本地化时保存到数据库功能后，本地化报错的问题
6. 优化插件后台的样式

v1.3.83

1. 修复其他主题或插件全局加载Vue时会导致插件后台无法正常加载的问题（内置js文件，插件大小会增加2M）
2. 将指定文件类型修改为图片本地化时自动检测文件类型；
3. 修复本地化保存到数据库文件显示异常的问题；
4. 新增可设置图片本地化后，自动将图片设置为文章的特色图片；
5. 新增自动给图片添加alt属性时，会将空值的alt重新设置；
6. 修复图片压缩时会重复下载两次的问题；
7. 文章发布时自动本地化后不再进行弹出提醒，处理结果会跟随wordpress默认提示进行输出；

v1.3.82

1. 移除插件内的时区定义代码（导致某些情况下文章发布时间出现偏差）；

v1.3.81

1. 修复wordpress不使用默认表前缀安装时，批量本地化无法检测的问题；
2. 修复批量本地化时，清空时间范围后无法检测的问题；

v1.3.8

1. 修复设置界面，日期选择时异常报错导致无法清除的问题。

v1.3.7

1. 新增定时任务可以指定日期范围、每日的时间范围进行定时发布。
2. 新增批量本地化时可选文章状态，可指定不限、草稿、已发布等文章状态进行批量本地化。
3. 优化批量压缩图片功能。

v1.3.6

1. 修复edit_themes权限导致部分情况下无法显示配置页面的问题：edit_themes -> manage_options


v1.3.5

1. 修复插件日志无法清空的问题
2. 更新图片压缩页面加载目录时异步加载，避免文件数量太多导致卡死；

v1.3.4

1. 修复不规范的img标签，不会被匹配到的问题。

v1.3.3

1. 修改代码适配wordpress插件商店规范；
2. 图片压缩完成后自动刷新显示的目录；
3. 修改网络请求超时时间为120s；

v1.3.1 beta

1. 新增批量本地化时，可以指定文章分类，指定文章发布时间范围；
2. 新增域名白名单，插件将忽略白名单内的域名，不会进行本地化；
3. 新增自定义图片保存类型功能
4. 新增图片批量压缩功能；
5. 接口增加随机时间戳；
6. 优化自动发布文章的定时任务
7. 修复压缩图片时图片读取失败的问题
8. 修改代码适配wordpress插件商店规范

v1.2.0 beta

增加图片本地化日志收集的功能，随时了解本地化失败的原因；
新增定时发布文章的功能，可设置定时发布时是否本地化文章图片；
新增批量本地化已发布文章内外部图片的功能；
新增插件更新日志，便于用户及时响应插件更新；
新增插件BUG在线反馈的功能，便于及时修复问题；
修改接口密钥为安装插件后随机生成，防止接口被恶意利用；
新增图片本地化时是否添加网站域名的功能开关，开启后本地化后的图片链接为包含域名的完整路径；

v1.1.3

本地化下载图片的方式调整为curl获取，并模拟referer绕过防盗链；
修改插件全局变量、函数的命名前缀；
修复没有判断图片下载结果导致的异常问题；